<!DOCTYPE html>
<html>
	<head>
		<title>Popcorn Inception example</title>
		<style>
			body {
				font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
				overflow: hidden;
				font-size: 20px;
			}

			#video-container {
				margin: 0 auto;
				width: 800px;
				height: 450px;
				position: relative;
				overflow: hidden;
				border: #676767 solid 1px;
				background-color: '#D1D1D1'
			}

			#text-container {
				margin: 0 auto;
				width: 800px;
			}

			a {
				color: black;
			}
		</style>
	</head>
	<body>
		<div id="video-container">
			<video id="video" width="800" height="450" preload controls>
				<source src="http://videos.mozilla.org/serv/webmademovies/popcornsite.mp4" type="video/mp4" />
				<source src="http://videos.mozilla.org/serv/webmademovies/popcornsite.webm" type="video/webm" />
				<source src="http://videos.mozilla.org/serv/webmademovies/popcornsite.ogv" type="video/ogg" />
				<source src="video/demo.webm" type="video/webm" />
			</video>
		</div>
		<script type="text/javascript" src="lib/popcorn.js"></script>

		<!-- additional player support -->
		<script type="text/javascript" src="lib/popcorn.player.js"></script>
		<script type="text/javascript" src="lib/popcorn._MediaElementProto.js"></script>
		<script type="text/javascript" src="lib/popcorn.HTMLVimeoVideoElement.js"></script>

		<script type="text/javascript" src="lib/popcorn.compatible.js"></script>
		<script type="text/javascript" src="lib/popcorn-base.js"></script>
		<script type="text/javascript" src="lib/popcorn.style.js"></script>
		<script type="text/javascript" src="lib/popcorn.loudness.js"></script>
		<script type="text/javascript" src="lib/popcorn.typist.js"></script>
		<script type="text/javascript" src="popcorn.inception.js"></script>
		<script type="text/javascript">
		(function(){

			var popcorn = Popcorn('#video', {
				frameAnimation: true
			});

			var atultroll = [
				'video/atultroll.webm',
				'http://videos.mozilla.org/serv/webmademovies/atultroll.webm'
			]

			popcorn.defaults('inception', {
				target: 'video-container',
				volume: 0.1
			});

			popcorn.inception({
				start: 1,
				end: 3.5,
				source: atultroll,
				sync: true,
				//pause: true,
				from: 0.5,
				to: 3,
				top: '20%',
				left: '20%',
				width: '40%'
			});

			popcorn.inception({
				start: 3.5,
				end: 6,
				source: atultroll,
				sync: true,
				from: 0.5,
				to: 3,
				top: '60%',
				left: '10%',
				width: '25%'
			});

			popcorn.inception({
				start: 4,
				end: 6.5,
				source: atultroll,
				sync: true,
				from: 0.5,
				to: 3,
				top: '10%',
				left: '40%',
				width: '35%'
			});

			popcorn.loudness({
				start: 5,
				end: 30,
				volume: {
					from: 1,
					0.04: 0.4,
					0.8: 0.4,
					0.96: 0.5,
					to: 1,
					timing: 'ease'
				}
			});

			popcorn.inception({
				start: 5,
				end: 30,
				source: atultroll,
				sync: true,
				from: 0.5,
				bottom: '10%',
				right: '10%',
				width: '45%',
				id: 'atul',
				events: [
					{
						_type: 'style',
						start: 7,
						end: 13,
						target: '',
						opacity: {
							0: 1,
							0.2: 0.5,
							0.8: 0.5,
							1: 1,
							timing: 'ease'
						}
					},
					{
						_type: 'style',
						start: 16,
						end: 25,
						target: 'atul',
						right: {
							0: '10%',
							0.1: '40%',
							timing: 'ease-in'
						}
					},
					{
						_type: 'typist',
						start: 17,
						end: 25,
						html: '<a href="https://github.com/brianchirls/popcorn-inception">github.com/brianchirls/popcorn-inception</a>',
						target: 'video-container',
						progress: {
							from: 0,
							0.2: 1,
							to: 1
						},
						'font-size': '12px',
						'font-weight': 'bold',
						'background-color': 'rgba(255, 255, 255, 0.5)',
						'padding': '4px',
						left: {
							from: '65%',
							0.15: '65%',
							0.5: '20%',
							timing: 'ease-in-out-circ'
						},
						top: {
							from: '60%',
							0.07: '60%',
							0.5: '20%',
							timing: 'ease-in-out-circ'
						}

					},
					{
						_type: 'inception',
						target: 'atul',
						start: 1,
						end: 3.5,
						source: atultroll,
						sync: true,
						from: 0.5,
						to: 3,
						top: '20%',
						left: '20%',
						width: '35%'
					},
					{
						_type: 'inception',
						target: 'atul',
						start: 2,
						end: 4.5,
						source: atultroll,
						sync: true,
						from: 0.5,
						to: 3,
						top: '45%',
						left: '45%',
						width: '35%'
					},
					{
						_type: 'inception',
						target: 'atul',
						start: 22,
						end: 25,
						source: atultroll,
						sync: true,
						from: 0.5,
						to: 3,
						top: '15%',
						left: '20%',
						width: '25%'
					}
				]
			});
		}());
		</script>
	</body>
</html>
